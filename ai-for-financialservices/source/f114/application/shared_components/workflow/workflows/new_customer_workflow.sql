prompt --application/shared_components/workflow/workflows/new_customer_workflow
begin
--   Manifest
--     WORKFLOW: New Customer Workflow
--   Manifest End
wwv_flow_imp.component_begin (
 p_version_yyyy_mm_dd=>'2024.11.30'
,p_release=>'24.2.0'
,p_default_workspace_id=>7687429086004423
,p_default_application_id=>114
,p_default_id_offset=>8992108442064454
,p_default_owner=>'DOCUSER'
);
wwv_flow_imp_shared.create_workflow(
 p_id=>wwv_flow_imp.id(11330260933301532)
,p_name=>'New Customer Workflow'
,p_static_id=>'New_Customer_Workflow'
,p_title=>'New Customer Workflow'
);
wwv_flow_imp_shared.create_workflow_variable(
 p_id=>wwv_flow_imp.id(11331371092301543)
,p_workflow_id=>wwv_flow_imp.id(11330260933301532)
,p_label=>'P_ACCOUNT_NUMBER'
,p_static_id=>'P_ACCOUNT_NUMBER'
,p_direction=>'IN'
,p_data_type=>'VARCHAR2'
,p_is_required=>true
);
wwv_flow_imp_shared.create_workflow_variable(
 p_id=>wwv_flow_imp.id(11331454948301544)
,p_workflow_id=>wwv_flow_imp.id(11330260933301532)
,p_label=>'P_CUSTOMER_NAME'
,p_static_id=>'P_CUSTOMER_NAME'
,p_direction=>'IN'
,p_data_type=>'VARCHAR2'
,p_is_required=>true
);
wwv_flow_imp_shared.create_workflow_variable(
 p_id=>wwv_flow_imp.id(11472524643601622)
,p_workflow_id=>wwv_flow_imp.id(11330260933301532)
,p_label=>'P_INCOME_LEVEL'
,p_static_id=>'P_INCOME_LEVEL'
,p_direction=>'IN'
,p_data_type=>'VARCHAR2'
,p_is_required=>true
);
wwv_flow_imp_shared.create_workflow_version(
 p_id=>wwv_flow_imp.id(11330379368301533)
,p_workflow_id=>wwv_flow_imp.id(11330260933301532)
,p_version=>'V1'
,p_state=>'INACTIVE'
);
wwv_flow_imp_shared.create_workflow_variable(
 p_id=>wwv_flow_imp.id(11331661912301546)
,p_workflow_version_id=>wwv_flow_imp.id(11330379368301533)
,p_label=>'Approver'
,p_static_id=>'APPROVER'
,p_direction=>'VARIABLE'
,p_data_type=>'VARCHAR2'
,p_value_type=>'STATIC'
,p_value=>'Madhu'
);
wwv_flow_imp_shared.create_workflow_variable(
 p_id=>wwv_flow_imp.id(11331773932301547)
,p_workflow_version_id=>wwv_flow_imp.id(11330379368301533)
,p_label=>'TaskOutcome'
,p_static_id=>'TASK_OUTCOME'
,p_direction=>'VARIABLE'
,p_data_type=>'VARCHAR2'
,p_value_type=>'NULL'
);
wwv_flow_imp_shared.create_workflow_variable(
 p_id=>wwv_flow_imp.id(11475187278601648)
,p_workflow_version_id=>wwv_flow_imp.id(11330379368301533)
,p_label=>'Approval Task Id'
,p_static_id=>'V_APPROVAL_TASK_ID'
,p_direction=>'VARIABLE'
,p_data_type=>'VARCHAR2'
,p_value_type=>'NULL'
);
wwv_flow_imp_shared.create_workflow_activity(
 p_id=>wwv_flow_imp.id(11330466247301534)
,p_workflow_version_id=>wwv_flow_imp.id(11330379368301533)
,p_name=>'Start'
,p_static_id=>'New'
,p_display_sequence=>10
,p_activity_type=>'NATIVE_WORKFLOW_START'
,p_diagram=>'{"position":{"x":90,"y":700},"z":1}'
);
wwv_flow_imp_shared.create_workflow_activity(
 p_id=>wwv_flow_imp.id(11330660287301536)
,p_workflow_version_id=>wwv_flow_imp.id(11330379368301533)
,p_name=>'End'
,p_static_id=>'New_2'
,p_display_sequence=>30
,p_activity_type=>'NATIVE_WORKFLOW_END'
,p_attribute_01=>'COMPLETED'
,p_diagram=>'{"position":{"x":1110,"y":930},"z":3}'
);
wwv_flow_imp_shared.create_workflow_activity(
 p_id=>wwv_flow_imp.id(11472667860601623)
,p_workflow_version_id=>wwv_flow_imp.id(11330379368301533)
,p_name=>'Auto Approve'
,p_static_id=>'New_1'
,p_display_sequence=>40
,p_activity_type=>'NATIVE_WORKFLOW_SWITCH'
,p_attribute_01=>'TRUE_FALSE_CHECK'
,p_attribute_03=>'FUNCTION_BODY'
,p_attribute_06=>'PLSQL'
,p_attribute_07=>wwv_flow_string.join(wwv_flow_t_varchar2(
'BEGIN ',
'    IF :P_INCOME_LEVEL > 500000 THEN ',
'      -- NO APPROVAL NEEDED',
'      RETURN FALSE; ',
'    ELSE ',
'      -- WE NEED APPROVAL',
'      RETURN TRUE; ',
'    END IF; ',
'END; '))
,p_diagram=>'{"position":{"x":300,"y":700},"z":5}'
);
wwv_flow_imp_shared.create_workflow_activity(
 p_id=>wwv_flow_imp.id(11472877081601625)
,p_workflow_version_id=>wwv_flow_imp.id(11330379368301533)
,p_name=>'Manual Approval Required'
,p_static_id=>'New_3'
,p_display_sequence=>50
,p_activity_type=>'NATIVE_CREATE_TASK'
,p_attribute_01=>wwv_flow_imp.id(11487462619277977)
,p_attribute_04=>'V_APPROVAL_TASK_ID'
,p_attribute_10=>'Y'
,p_diagram=>'{"position":{"x":920,"y":530},"z":6}'
);
wwv_flow_imp_shared.create_task_def_comp_param(
 p_id=>wwv_flow_imp.id(11473565976601632)
,p_workflow_activity_id=>wwv_flow_imp.id(11472877081601625)
,p_task_def_param_id=>wwv_flow_imp.id(11543045619315946)
,p_value_type=>'ITEM'
,p_value=>'P_ACCOUNT_NUMBER'
);
wwv_flow_imp_shared.create_task_def_comp_param(
 p_id=>wwv_flow_imp.id(11473664270601633)
,p_workflow_activity_id=>wwv_flow_imp.id(11472877081601625)
,p_task_def_param_id=>wwv_flow_imp.id(11552588783822188)
,p_value_type=>'ITEM'
,p_value=>'P_CUSTOMER_NAME'
);
wwv_flow_imp_shared.create_workflow_transition(
 p_id=>wwv_flow_imp.id(11330735480301537)
,p_name=>'New'
,p_transition_type=>'NORMAL'
,p_from_activity_id=>wwv_flow_imp.id(11330466247301534)
,p_to_activity_id=>wwv_flow_imp.id(11472667860601623)
,p_diagram=>'{"source":{},"target":{"name":"topLeft","args":{"dx":"4.55%","dy":"50%","rotate":true}},"vertices":[],"z":4,"label":{"distance":0.5,"offset":0}}'
);
wwv_flow_imp_shared.create_workflow_transition(
 p_id=>wwv_flow_imp.id(11473372771601630)
,p_name=>'TRUE'
,p_transition_type=>'BRANCH'
,p_from_activity_id=>wwv_flow_imp.id(11472667860601623)
,p_to_activity_id=>wwv_flow_imp.id(11472877081601625)
,p_condition_expr1=>'TRUE'
,p_diagram=>'{"source":{"args":{"dx":-10,"dy":0},"name":"right"},"target":{"args":{"dx":"18.182%","dy":"50%","rotate":true},"name":"topLeft"},"vertices":[],"z":10,"label":{"distance":0.5,"offset":0}}'
);
wwv_flow_imp_shared.create_workflow_transition(
 p_id=>wwv_flow_imp.id(11473414961601631)
,p_name=>'FALSE'
,p_transition_type=>'BRANCH'
,p_from_activity_id=>wwv_flow_imp.id(11472667860601623)
,p_to_activity_id=>wwv_flow_imp.id(11330660287301536)
,p_condition_expr1=>'FALSE'
,p_diagram=>'{"source":{"args":{"dx":-10,"dy":0},"name":"right"},"target":{"args":{"dx":"50%","dy":"50%","rotate":true},"name":"topLeft"},"vertices":[],"z":11,"label":{"distance":0.5,"offset":0}}'
);
wwv_flow_imp_shared.create_workflow_transition(
 p_id=>wwv_flow_imp.id(11473169565601628)
,p_name=>'New'
,p_transition_type=>'NORMAL'
,p_from_activity_id=>wwv_flow_imp.id(11472877081601625)
,p_to_activity_id=>wwv_flow_imp.id(11330660287301536)
,p_diagram=>'{"source":{"name":"right","args":{"dx":-10,"dy":0}},"target":{"name":"topLeft","args":{"dx":"33.333%","dy":"33.333%","rotate":true}},"vertices":[],"z":9,"label":{"distance":0.5,"offset":0}}'
);
wwv_flow_imp_shared.create_workflow_participant(
 p_id=>wwv_flow_imp.id(11331244003301542)
,p_workflow_version_id=>wwv_flow_imp.id(11330379368301533)
,p_participant_type=>'ADMIN'
,p_name=>'New'
,p_identity_type=>'USER'
,p_value_type=>'STATIC'
,p_value=>'appsadmin'
);
wwv_flow_imp_shared.create_workflow_participant(
 p_id=>wwv_flow_imp.id(11475291752601649)
,p_workflow_version_id=>wwv_flow_imp.id(11330379368301533)
,p_participant_type=>'OWNER'
,p_name=>'New_1'
,p_identity_type=>'USER'
,p_value_type=>'STATIC'
,p_value=>'Madhu'
);
wwv_flow_imp_shared.create_workflow_version(
 p_id=>wwv_flow_imp.id(11719043012931501)
,p_workflow_id=>wwv_flow_imp.id(11330260933301532)
,p_version=>'V2'
,p_state=>'DEVELOPMENT'
);
wwv_flow_imp_shared.create_workflow_activity(
 p_id=>wwv_flow_imp.id(11719172615931502)
,p_workflow_version_id=>wwv_flow_imp.id(11719043012931501)
,p_name=>'Start'
,p_static_id=>'New'
,p_display_sequence=>10
,p_activity_type=>'NATIVE_WORKFLOW_START'
,p_diagram=>'{"position":{"x":340,"y":730},"z":1}'
);
wwv_flow_imp_shared.create_workflow_activity(
 p_id=>wwv_flow_imp.id(11719234850931503)
,p_workflow_version_id=>wwv_flow_imp.id(11719043012931501)
,p_name=>'Activity'
,p_static_id=>'New_1'
,p_display_sequence=>20
,p_activity_type=>'NATIVE_PLSQL'
,p_activity_code=>wwv_flow_string.join(wwv_flow_t_varchar2(
'begin',
'',
'null;',
'',
'end;'))
,p_activity_code_language=>'PLSQL'
,p_location=>'LOCAL'
,p_diagram=>'{"position":{"x":530,"y":730},"z":2}'
);
wwv_flow_imp_shared.create_workflow_activity(
 p_id=>wwv_flow_imp.id(11719361889931504)
,p_workflow_version_id=>wwv_flow_imp.id(11719043012931501)
,p_name=>'End'
,p_static_id=>'New_2'
,p_display_sequence=>30
,p_activity_type=>'NATIVE_WORKFLOW_END'
,p_attribute_01=>'COMPLETED'
,p_diagram=>'{"position":{"x":880,"y":730},"z":3}'
);
wwv_flow_imp_shared.create_workflow_transition(
 p_id=>wwv_flow_imp.id(11719416025931505)
,p_name=>'New'
,p_transition_type=>'NORMAL'
,p_from_activity_id=>wwv_flow_imp.id(11719172615931502)
,p_to_activity_id=>wwv_flow_imp.id(11719234850931503)
,p_diagram=>'{"source":{},"target":{},"vertices":[],"z":4,"label":{"distance":0.5,"offset":0}}'
);
wwv_flow_imp_shared.create_workflow_transition(
 p_id=>wwv_flow_imp.id(11719557165931506)
,p_name=>'New'
,p_transition_type=>'NORMAL'
,p_from_activity_id=>wwv_flow_imp.id(11719234850931503)
,p_to_activity_id=>wwv_flow_imp.id(11719361889931504)
,p_diagram=>'{"source":{},"target":{},"vertices":[],"z":5,"label":{"distance":0.5,"offset":0}}'
);
wwv_flow_imp.component_end;
end;
/
